{"version":3,"sources":["hoc/withAuthRedirect.jsx","Redux/dialogsReduser.jsx","Content/Users/Users.module.css","Assets/userPhoto.png","Assets/loader.gif","Templates/Preloader/Preloader.module.css","api/api.js","Templates/Navbar/Navbar.module.css","serviceWorker.js","Templates/Navbar/Navbar.jsx","Content/News/News.jsx","Content/Settings/Settings.jsx","Content/Music/Music.jsx","utils/object-helpers.js","Redux/usersReduser.jsx","Templates/Paginator/Paginator.jsx","Content/Users/User.jsx","Content/Users/Users.jsx","Redux/users-selectors.js","Content/Users/UsersContainer.jsx","Templates/Header/Header.jsx","Redux/auth-reduser.jsx","Templates/Header/HeaderContainer.jsx","Content/Login/Login.jsx","Redux/app-reduser.js","hoc/withSuspense.jsx","App.js","Redux/redux-store.js","index.js","Templates/Preloader/Preloader.js","Templates/formControls/FormControls.module.css","Templates/formControls/FormControls.js","Templates/Paginator/Paginator.module.css","Templates/Header/Header.module.css","utils/validators/validators.js","Redux/profileReduser.jsx"],"names":["mapStateToPropsForRedirect","state","isAuth","auth","withAuthRedirect","Component","RedirectComponent","this","props","to","React","connect","initialState","dialogs","id","name","messages","message","newMessageText","sendMessage","messageText","type","updateNewMessage","dialogsReduser","action","length","module","exports","instance","axios","withCredentials","baseURL","headers","usersAPI","getUsers","currentPage","pageSize","get","then","response","data","follow","userId","post","unfollow","delete","getUserProfile","console","warn","profileAPI","getUserStatus","updateStatus","status","put","authAPI","isLogged","login","email","password","rememberMe","logout","Boolean","window","location","hostname","match","Menu","className","s","nav","item","activeClassName","active","News","Settings","Music","updateObjectInArray","items","itemId","objPropName","newObjProps","map","u","users","totalUsersCount","isFetching","followingInProgress","followSuccess","unfollowSuccess","toggleIsFetching","togglefollowingInProgress","followUnfollowFlow","dispatch","apiMethod","actionCreator","a","resultCode","usersReduser","followed","count","filter","Paginator","totalItemsCount","onPageChanged","portionSize","pagesCount","Math","ceil","pages","i","push","portionCount","useState","portionNumber","setPortionNumber","leftPortionPageNumber","rightPortionPageNumber","styles","paginator","onClick","p","cn","selectedPage","pageNumber","key","e","User","user","src","photos","small","userPhoto","usersPhoto","disabled","some","Users","getUsersSuperSelector","createSelector","usersPage","getPageSize","getTotalUsersCount","getCurrentPage","getIsFetching","getFollowingInProgress","UsersContainer","Preloader","mapDispatchToPropsObject","bind","page","totalCount","compose","Header","header","img","loginBlock","setAuthUserData","payload","getAuthUserData","authData","pass","authReduser","HeaderContainer","LoginReduxForm","reduxForm","form","handleSubmit","error","onSubmit","Field","placeholder","component","Input","validate","requiredField","formSummaryError","stopSubmit","_error","formData","initialized","appReduser","withSuspense","Suspense","fallback","DialogsContainer","lazy","ProfileContainer","App","initializeApp","path","render","withRouter","app","reducers","combineReducers","profilePage","profileReduser","dialogsPage","formReducer","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","store","createStore","applyMiddleware","thunkMiddleware","__store__","ReactDOM","document","getElementById","navigator","serviceWorker","ready","registration","unregister","preloader","FormControl","input","meta","child","hasError","touched","formControl","children","Textarea","restProps","value","maxLengthCreator","maxLength","posts","likeCount","newPostText","profile","addPost","postText","updateNewPostText","setStatus","getStatus","showProfile","profileData","likesCount","postId"],"mappings":"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","file":"static/js/main.2891e978.chunk.js","sourcesContent":["import React from  'react';\r\nimport {Redirect} from \"react-router-dom\";\r\nimport {connect} from \"react-redux\";\r\n\r\nlet mapStateToPropsForRedirect = (state) => ({\r\n    isAuth: state.auth.isAuth\r\n});\r\n\r\nexport const withAuthRedirect = (Component) => {\r\n\r\n    class RedirectComponent extends React.Component {\r\n        render() {\r\n            if (!this.props.isAuth) return <Redirect to={\"/login\"}/>;\r\n\r\n            return <Component {...this.props}/>\r\n        }\r\n    }\r\n\r\n    let ConnectedAuthRedirectComponent = connect(mapStateToPropsForRedirect)(RedirectComponent);\r\n\r\n    return ConnectedAuthRedirectComponent;\r\n}","const UPDATE_NEW_MESSAGE_TEXT = 'UPDATE-NEW-MESSAGE-TEXT';\r\nconst SEND_MESSAGE = 'SEND_MESSAGE';\r\n\r\nlet initialState = {\r\n    dialogs: [\r\n        {id: 1, name: 'Volodya'},\r\n        {id: 2, name: 'Ilon Mask'},\r\n        {id: 3, name: 'Alexey Panin'},\r\n        {id: 4, name: 'Yuri Dudb'}\r\n    ],\r\n    messages: [\r\n        {id: 1, message: 'Мемасик'},\r\n        {id: 2, message: 'Очень смешной мемасик'},\r\n        {id: 3, message: 'Ссылка на новый выпуск \"что было дальше\"'},\r\n        {id: 4, message: 'Че сука игнор? ))'}\r\n    ],\r\n    newMessageText: ''\r\n}\r\n\r\nconst dialogsReduser = (state = initialState, action) => {\r\n\r\n    switch (action.type) {\r\n        case SEND_MESSAGE:\r\n            // let newMessage = state.newMessageText;\r\n            let length = state.messages.length + 1;\r\n            return {\r\n                ...state,\r\n                newMessageText: '',\r\n                messages: [...state.messages, {id: length, message: action.messageText}]\r\n            }\r\n        case UPDATE_NEW_MESSAGE_TEXT:\r\n            return {\r\n                ...state,\r\n                newMessageText: action.messageText\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const sendMessage = (messageText) => {\r\n    return {\r\n        type: SEND_MESSAGE,\r\n        messageText\r\n    }\r\n}\r\n\r\nexport const updateNewMessage = (messageText) => {\r\n    return {\r\n        type: UPDATE_NEW_MESSAGE_TEXT,\r\n        messageText: messageText\r\n    }\r\n}\r\n\r\nexport default dialogsReduser;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"usersPhoto\":\"Users_usersPhoto__21FLG\"};","module.exports = \"data:image/png;base64,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\"","module.exports = __webpack_public_path__ + \"static/media/loader.26ef8bb4.gif\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"img\":\"Preloader_img__1ZoFR\"};","import * as axios from \"axios/index\";\r\n\r\nconst instance = axios.create({\r\n    withCredentials: true,\r\n    baseURL: `https://social-network.samuraijs.com/api/1.0/`,\r\n    headers: {\r\n        \"API-KEY\": \"eb69b3e8-917a-49ee-9f12-0bd6391cb0cb\"\r\n    }\r\n});\r\n\r\nexport const usersAPI = {\r\n    getUsers(currentPage = 1, pageSize = 10) {\r\n        // return axios.get(`https://social-network.samuraijs.com/api/1.0/users?page=${currentPage}&count=${pageSize}`, {\r\n        //     //     withCredentials: true\r\n        //     // })\r\n        return instance.get(`users?page=${currentPage}&count=${pageSize}`)\r\n            .then(response => {return response.data;});\r\n    },\r\n    follow(userId) {\r\n        return instance.post(`follow/${userId}`)\r\n    },\r\n    unfollow(userId) {\r\n        return instance.delete(`follow/${userId}`)\r\n    },\r\n    getUserProfile(userId) {\r\n        console.warn('obsolete method. Please use profileAPI object')\r\n        return profileAPI.getUserProfile(userId);\r\n    }\r\n}\r\n\r\nexport const profileAPI = {\r\n    getUserProfile(userId) {\r\n        return instance.get(`profile/${userId}`)\r\n            .then(response => {return response.data;});\r\n    },\r\n    getUserStatus(userId) {\r\n        return instance.get(`profile/status/${userId}`);\r\n    },\r\n    updateStatus(status) {\r\n        return instance.put(`profile/status`, {status: status});\r\n    }\r\n}\r\n\r\nexport const authAPI = {\r\n    isLogged() {\r\n        return  instance.get(`auth/me`)\r\n            .then(response => {return response.data;});\r\n    },\r\n    login(email, password, rememberMe = false) {\r\n        return  instance.post(`auth/login`, {email, password, rememberMe})\r\n    },\r\n    logout() {\r\n        return  instance.delete(`auth/login`)\r\n    },\r\n}\r\n\r\n\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Navbar_nav__KNhG7\",\"item\":\"Navbar_item__2k2D9\",\"active\":\"Navbar_active__2mGfs\"};","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\r\nimport s from './Navbar.module.css';\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\nconst Menu = () => {\r\n    return (\r\n        <nav className={s.nav}>\r\n            <div className={s.item}>\r\n                <NavLink to='profile' activeClassName={s.active}>Profile</NavLink>\r\n            </div>\r\n            <div className={s.item}>\r\n                <NavLink to='dialogs' activeClassName={s.active}>Messages</NavLink>\r\n            </div>\r\n            <div className={s.item}>\r\n                <NavLink to='/news' activeClassName={s.active}>News</NavLink>\r\n            </div>\r\n            <div className={s.item}>\r\n                <NavLink to='/music' activeClassName={s.active}>Music</NavLink>\r\n            </div>\r\n            <div className={s.item}>\r\n                <NavLink to='/settings' activeClassName={s.active}>Settings</NavLink>\r\n            </div>\r\n            <div className={s.item}>\r\n                <NavLink to='/users' activeClassName={s.active}>Users</NavLink>\r\n            </div>\r\n            <div className={s.item}>\r\n                <h3>Friends</h3>\r\n            </div>\r\n        </nav>              \r\n    );\r\n}\r\n\r\nexport default Menu;","import React from  'react';\r\nimport s from './News.module.css';\r\n\r\nfunction News(props) {\r\n    return (\r\n        <div>\r\n            News\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default News;","import React from  'react';\r\nimport s from './Settings.module.css';\r\n\r\nfunction Settings(props) {\r\n    return (\r\n        <div>\r\n            Settings\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Settings;","import React from  'react';\r\nimport s from './Music.module.css';\r\n\r\nfunction Music(props) {\r\n    return (\r\n        <div>\r\n            Music\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Music;","export const updateObjectInArray = (items, itemId, objPropName, newObjProps) => {\r\n\r\n    return items.map( u => {\r\n        if (u[objPropName] === itemId) {\r\n            return {...u, ...newObjProps}\r\n        }\r\n        return u;\r\n    })\r\n}\r\n","import {usersAPI} from \"../api/api\";\r\nimport {updateObjectInArray} from \"../utils/object-helpers\";\r\n\r\nconst FOLLOW = 'FOLLOW';\r\nconst UNFOLLOW = 'UNFOLLOW';\r\nconst SET_USERS = 'SET_USERS';\r\nconst SET_CURRENT_PAGE = 'SET_CURRENT_PAGE';\r\nconst SET_TOTAL_USERS_COUNT = 'SET_TOTAL_USERS_COUNT';\r\nconst TOGGLE_IS_FETCHING = 'TOGGLE_IS_FETCHING';\r\nconst TOGGLE_FOLLOWING_IN_PROGRESS = 'TOGGLE_FOLLOWING_IN_PROGRESS'\r\n\r\n\r\nlet initialState = {\r\n    users: [],\r\n    pageSize: 10,\r\n    totalUsersCount: 0,\r\n    currentPage: 1,\r\n    isFetching: true,\r\n    followingInProgress: []\r\n}\r\n\r\nexport const usersReduser = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case FOLLOW:\r\n            return {\r\n                ...state,\r\n                users: updateObjectInArray(state.users, action.userId, \"id\", {followed: true})\r\n                // users: state.users.map( u => {\r\n                //     if (u.id === action.userId) {\r\n                //         return {...u, followed: true}\r\n                //     }\r\n                //     return u;\r\n                // })\r\n            }\r\n        case UNFOLLOW:\r\n            return {\r\n                ...state,\r\n                users: updateObjectInArray(state.users, action.userId, \"id\", {followed: false})\r\n            }\r\n        case SET_USERS:\r\n            return { ...state, users: [...action.users ]}\r\n        case SET_CURRENT_PAGE:\r\n            return { ...state, currentPage: action.currentPage}\r\n        case SET_TOTAL_USERS_COUNT:\r\n            return { ...state, totalUsersCount: action.count}\r\n        case TOGGLE_IS_FETCHING: {\r\n            return { ...state, isFetching: action.isFetching}\r\n        }\r\n        case TOGGLE_FOLLOWING_IN_PROGRESS: {\r\n            return { ...state,\r\n                     followingInProgress: action.isFetching\r\n                     ? [...state.followingInProgress, action.userId]\r\n                     : state.followingInProgress.filter(id => id != action.userId) // можно заменить вся эту строку на []\r\n            }\r\n        }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\n//Экшн креэйторы, теперь записываем без AC вконце, чтобы работал рефакторинг mapDispatchToProps\r\nexport const followSuccess = (userId) => {\r\n    return {\r\n        type: FOLLOW,\r\n        userId\r\n    }\r\n}\r\nexport const unfollowSuccess = (userId) => {\r\n    return {\r\n        type: UNFOLLOW,\r\n        userId\r\n    }\r\n}\r\nexport const setUsers = (users) => {\r\n    return {\r\n        type: SET_USERS,\r\n        users\r\n    }\r\n}\r\nexport const setCurrentPage = (currentPage) => {\r\n    return {\r\n        type: SET_CURRENT_PAGE,\r\n        currentPage\r\n    }\r\n}\r\nexport const setTotalUsersCount = (totalUsercCount) => {\r\n    return {\r\n        type: SET_TOTAL_USERS_COUNT,\r\n        count: totalUsercCount\r\n    }\r\n}\r\nexport const toggleIsFetching = (isFetching) => {\r\n    return {\r\n        type: TOGGLE_IS_FETCHING,\r\n        isFetching\r\n    }\r\n}\r\nexport const togglefollowingInProgress = (isFetching, userId) => {\r\n    return {\r\n        type: TOGGLE_FOLLOWING_IN_PROGRESS,\r\n        isFetching,\r\n        userId\r\n    }\r\n}\r\n\r\nexport const getUsersThunkCreator = (page, pageSize) => async (dispatch) => {\r\n    dispatch(toggleIsFetching(true));\r\n    dispatch(setCurrentPage(page));\r\n\r\n    let data = await usersAPI.getUsers(page, pageSize);\r\n    dispatch(toggleIsFetching(false));\r\n    dispatch(setUsers(data.items));\r\n    dispatch(setTotalUsersCount(data.totalCount));\r\n}\r\n\r\nconst followUnfollowFlow = async (dispatch, userId, apiMethod, actionCreator) => {\r\n    dispatch(togglefollowingInProgress(true, userId));\r\n\r\n    let response = await apiMethod(userId);\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(actionCreator(userId));\r\n    }\r\n    dispatch(togglefollowingInProgress(false, userId));\r\n}\r\n\r\nexport const follow = (userId) => async (dispatch) => {\r\n    followUnfollowFlow(dispatch, userId, usersAPI.follow.bind(usersAPI), followSuccess);\r\n}\r\n\r\n\r\nexport const unfollow = (userId) => async (dispatch) => {\r\n    followUnfollowFlow(dispatch, userId, usersAPI.unfollow.bind(usersAPI), unfollowSuccess);\r\n    // dispatch(togglefollowingInProgress(true, userId));\r\n    //\r\n    // let response = await apiMethod(userId);\r\n    // if (response.data.resultCode === 0) {\r\n    //     dispatch(actionCreator(userId));\r\n    // }\r\n    // dispatch(togglefollowingInProgress(false, userId));\r\n}\r\n\r\n\r\nexport default usersReduser;","import React, {useState} from 'react';\r\nimport styles from \"./Paginator.module.css\";\r\nimport cn from \"classnames\";\r\n\r\nlet Paginator = ({totalItemsCount, pageSize, currentPage, onPageChanged, portionSize = 10}) => {\r\n\r\n    let pagesCount = Math.ceil(totalItemsCount / pageSize);\r\n\r\n    let pages = [];\r\n    for (let i = 1; i <= pagesCount; i++) {\r\n        pages.push(i);\r\n    }\r\n\r\n    let portionCount = Math.ceil(pagesCount / portionSize);\r\n    let [portionNumber, setPortionNumber] = useState(1);\r\n    let leftPortionPageNumber = (portionNumber - 1) * portionSize + 1;\r\n    let rightPortionPageNumber = portionNumber * portionSize;\r\n\r\n\r\n    return <div className={styles.paginator}>\r\n        { portionNumber > 1 &&\r\n        <button onClick={() => { setPortionNumber(portionNumber - 1) }}>PREV</button> }\r\n\r\n        {pages\r\n            .filter(p => p >= leftPortionPageNumber && p<=rightPortionPageNumber)\r\n            .map((p) => {\r\n                return <span className={ cn({\r\n                    [styles.selectedPage]: currentPage === p\r\n                }, styles.pageNumber) }\r\n                             key={p}\r\n                             onClick={(e) => {\r\n                                 onPageChanged(p);\r\n                             }}>{p}</span>\r\n            })}\r\n        { portionCount > portionNumber &&\r\n        <button onClick={() => { setPortionNumber(portionNumber + 1) }}>NEXT</button> }\r\n\r\n\r\n    </div>\r\n}\r\n\r\nexport default Paginator;\r\n\r\n","import React from 'react'\r\nimport s from \"./Users.module.css\";\r\nimport userPhoto from \"../../Assets/userPhoto.png\";\r\nimport {NavLink} from \"react-router-dom\";\r\nimport {togglefollowingInProgerss} from \"../../Redux/usersReduser\";\r\n\r\n\r\nlet User = (props) => {\r\n    let user = props.user;\r\n    return (\r\n        <div>\r\n            <span>\r\n                <div>\r\n                    <NavLink to={`/profile/${user.id}`}>\r\n                        <img src={user.photos.small != null ? user.photos.small : userPhoto} className={s.usersPhoto}/>\r\n                    </NavLink>\r\n                </div>\r\n                <div>\r\n                    {user.followed\r\n                        ? <button disabled={props.followingInProgress.some(id => id === user.id)}\r\n                                  onClick={ () => {props.unfollow(user.id);} }>Unfollow</button>\r\n                        : <button disabled={props.followingInProgress.some(id => id=== user.id)}\r\n                                  onClick={ () => {props.follow(user.id);} }>Follow</button>}\r\n                </div>\r\n            </span>\r\n            <span>\r\n                <div>{user.name}</div>\r\n                <div>{user.status}</div>\r\n            </span>\r\n            <span>\r\n                <div>{\"u.location.country\"}</div>\r\n                <div>{\"u.location.city\"}</div>\r\n            </span>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default User;","import React from 'react'\r\nimport {togglefollowingInProgerss} from \"../../Redux/usersReduser\";\r\nimport Paginator from \"../../Templates/Paginator/Paginator\";\r\nimport User from \"./User\";\r\n\r\n\r\nlet Users = (props) => {\r\n    return (\r\n        <div>\r\n            <Paginator currentPage={props.currentPage}\r\n                       onPageChanged={props.onPageChanged}\r\n                       totalItemsCount={props.totalUsersCount}\r\n                       pageSize={props.pageSize} />\r\n            <div>\r\n                {\r\n                    props.users.map( u => <User user={u}\r\n                                                followingInProgress={props.followingInProgress}\r\n                                                key={u.id}\r\n                                                unfollow={props.unfollow}\r\n                                                follow={props.follow}\r\n                    />)\r\n                }\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Users;","import {createSelector} from \"reselect\";\r\n\r\nexport const getUsers = (state) => {\r\n    return state.usersPage.users;\r\n}\r\n// export const getUsersSelector = (state) => {\r\n//     return getUsers(state).filter(u => true);\r\n// }\r\nexport const getUsersSuperSelector = createSelector(getUsers, (users) => {\r\n    return users.filter(u => true);\r\n})\r\n\r\nexport const getPageSize = (state) => {\r\n    return state.usersPage.pageSize;\r\n}\r\nexport const getTotalUsersCount = (state) => {\r\n    return state.usersPage.totalUsersCount;\r\n}\r\nexport const getCurrentPage = (state) => {\r\n    return state.usersPage.currentPage;\r\n}\r\nexport const getIsFetching = (state) => {\r\n    return state.usersPage.isFetching;\r\n}\r\nexport const getFollowingInProgress = (state) => {\r\n    return state.usersPage.followingInProgress;\r\n}\r\n","import React from 'react'\r\nimport {connect} from \"react-redux\";\r\nimport {\r\n    follow,\r\n    unfollow,\r\n    getUsersThunkCreator\r\n} from \"../../Redux/usersReduser\";\r\nimport Users from \"./Users\";\r\nimport Preloader from \"../../Templates/Preloader/Preloader\";\r\nimport {API} from \"../../api/api\";\r\nimport {withAuthRedirect} from \"../../hoc/withAuthRedirect\";\r\nimport {compose} from \"redux\";\r\nimport {\r\n    getCurrentPage,\r\n    getFollowingInProgress,\r\n    getIsFetching,\r\n    getPageSize,\r\n    getTotalUsersCount,\r\n    getUsersSuperSelector\r\n} from \"../../Redux/users-selectors\";\r\n\r\n\r\n\r\nclass UsersContainer extends React.Component {\r\n\r\n    componentDidMount() {\r\n        this.props.getUsers(this.props.currentPage, this.props.pageSize) // санка\r\n        // this.props.toggleIsFetching(true);\r\n        // API.getUsers(this.props.currentPage, this.props.pageSize).then(data => {\r\n        //         this.props.toggleIsFetching(false);\r\n        //         this.props.setUsers(data.items);\r\n        //         this.props.setTotalUsersCount(data.totalCount);\r\n        //     });\r\n    }\r\n\r\n    onPageChanged = (pageNumber) => {\r\n\r\n        this.props.getUsers(pageNumber, this.props.pageSize) // санка\r\n\r\n        // this.props.toggleIsFetching(true);\r\n        // this.props.setCurrentPage(pageNumber);\r\n        // API.getUsers(pageNumber, this.props.pageSize).then(data => {\r\n        //         this.props.toggleIsFetching(false);\r\n        //         this.props.setUsers(data.items)\r\n        //     });\r\n    }\r\n\r\n    render() {\r\n        return <>\r\n            { this.props.isFetching ? <Preloader /> : null }\r\n            <Users users={this.props.users}\r\n                   totalUsersCount={this.props.totalUsersCount}\r\n                   pageSize={this.props.pageSize}\r\n                   currentPage={this.props.currentPage}\r\n                   onPageChanged={this.onPageChanged}\r\n                   unfollow={this.props.unfollow}\r\n                   follow={this.props.follow}\r\n                   followingInProgress={this.props.followingInProgress} />\r\n        </>\r\n    }\r\n}\r\n\r\n// let mapStateToProps = (state) => { //state берется из замыкания, state это store\r\n//     return {\r\n//         users: state.usersPage.users, //usersPage это usersReduser (usersPage: usersReduser в файле redux-store)\r\n//         pageSize: state.usersPage.pageSize,\r\n//         totalUsersCount: state.usersPage.totalUsersCount,\r\n//         currentPage: state.usersPage.currentPage,\r\n//         isFetching: state.usersPage.isFetching,\r\n//         followingInProgress: state.usersPage.followingInProgress\r\n//     }\r\n// }\r\n\r\nlet mapStateToProps = (state) => { //state берется из замыкания, state это store\r\n    return {\r\n        // users: getUsers(state),\r\n        users: getUsersSuperSelector(state),\r\n        pageSize: getPageSize(state),\r\n        totalUsersCount: getTotalUsersCount(state),\r\n        currentPage: getCurrentPage(state),\r\n        isFetching: getIsFetching(state),\r\n        followingInProgress: getFollowingInProgress(state)\r\n    }\r\n}\r\n\r\n// let mapDispatchToProps = (dispatch) => {\r\n//     return {\r\n//         follow: (userId) => {\r\n//             dispatch(followAC(userId));\r\n//         },\r\n//         unfollow: (userId) => {\r\n//             dispatch(unfollowAC(userId));\r\n//         },\r\n//         setUsers: (users) => {\r\n//             dispatch(setUsersAC(users));\r\n//         },\r\n//         setCurrentPage: (pageNumber) => {\r\n//             dispatch(setCurrentPageAC(pageNumber));\r\n//         },\r\n//         setTotalUsersCount: (totalCount) => {\r\n//             dispatch(setTotalUsersCountAC(totalCount));\r\n//         },\r\n//         toggleIsFetching: (isFetching) => {\r\n//             dispatch(toggleIsFetchingAC(isFetching));\r\n//         }\r\n//     }\r\n// }\r\n\r\n//рефакторинг mapDispatchToProps:\r\nlet mapDispatchToPropsObject = {follow, unfollow, getUsers: getUsersThunkCreator}\r\n\r\n\r\nexport default compose(\r\n    connect(mapStateToProps, mapDispatchToPropsObject),\r\n    withAuthRedirect\r\n)(UsersContainer);\r\n","import React from 'react';\r\nimport s from './Header.module.css';\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\n\r\nfunction Header(props) {\r\n    return (\r\n        <header className={s.header}>\r\n            <img className={s.img} src=\"../photo.jpg\"></img>\r\n\r\n            <div className={s.loginBlock}>\r\n                { props.isAuth\r\n                    ? <div>{props.login} - <button onClick={props.logout}>Log out</button></div>\r\n                    : <NavLink to={'/login'}>Login</NavLink>}\r\n            </div>\r\n        </header>               \r\n    );\r\n}\r\n\r\nexport default Header;","import {authAPI} from \"../api/api\";\r\nimport {stopSubmit} from \"redux-form\";\r\n\r\nconst SET_USER_DATA = 'auth/SET_USER_DATA';\r\n\r\n\r\nlet initialState = {\r\n    userId: null,\r\n    email: null,\r\n    login: null,\r\n    isAuth: false\r\n}\r\n\r\nexport const authReduser = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case SET_USER_DATA:\r\n            return {\r\n                ...state,\r\n                ...action.payload\r\n            }\r\n\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\n//Экшн креэйторы, теперь записываем без AC вконце, чтобы работал рефакторинг mapDispatchToProps\r\nexport const setAuthUserData = (userId, email, login, isAuth) => {\r\n    return {\r\n        type: SET_USER_DATA,\r\n        payload: {userId, email, login, isAuth}\r\n    }\r\n}\r\n\r\n// export const getAuthUserData = () => (dispatch) => {\r\n//     return authAPI.isLogged()\r\n//         .then(authData => {\r\n//             if (authData.resultCode === 0) {\r\n//                 let {id, login, email} = authData.data;\r\n//                 dispatch(setAuthUserData(id, email, login, true));\r\n//             }\r\n//         });\r\n// }\r\n\r\nexport const getAuthUserData = () => async (dispatch) => {\r\n    let authData = await authAPI.isLogged();\r\n\r\n    if (authData.resultCode === 0) {\r\n        let {id, login, email} = authData.data;\r\n        dispatch(setAuthUserData(id, email, login, true));\r\n    }\r\n}\r\n\r\n\r\nexport const login = (email, pass, rememberMe) => {\r\n    return async (dispatch) => {\r\n        let response = await authAPI.login(email, pass, rememberMe)\r\n\r\n        if (response.data.resultCode === 0) {\r\n            dispatch(getAuthUserData());\r\n        } else {\r\n            let message = response.data.messages.length > 0 ? response.data.messages[0] : \"Some error\";\r\n            dispatch(stopSubmit(\"login\", {_error: message}));\r\n        }\r\n    }\r\n}\r\n\r\nexport const logout = (email, pass, rememberMe) => {\r\n    return async (dispatch) => {\r\n        let response = await authAPI.logout()\r\n\r\n        if (response.data.resultCode === 0) {\r\n            dispatch(setAuthUserData(null, null, null, false));\r\n        }\r\n    }\r\n}\r\n\r\n\r\nexport default authReduser;","import React from 'react';\r\nimport Header from './Header';\r\nimport {connect} from \"react-redux\";\r\nimport {\r\n    getAuthUserData, logout\r\n} from \"../../Redux/auth-reduser\";\r\n\r\nclass HeaderContainer extends React.Component {\r\n\r\n    render() {\r\n       return <Header {...this.props} />\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n    isAuth: state.auth.isAuth,\r\n    login: state.auth.login\r\n});\r\n\r\nexport default connect(mapStateToProps, {getAuthUserData, logout}) (HeaderContainer);","import React from 'react';\r\nimport {Field, reduxForm} from \"redux-form\";\r\nimport {Input} from \"../../Templates/formControls/FormControls\";\r\nimport {requiredField} from \"../../utils/validators/validators\";\r\nimport {connect} from \"react-redux\";\r\nimport {login, logout} from \"../../Redux/auth-reduser\";\r\nimport {Redirect} from \"react-router-dom\";\r\nimport s from \"../../Templates/formControls/FormControls.module.css\";\r\n\r\nconst LoginForm = ({handleSubmit, error}) => {\r\n    return (\r\n        <form onSubmit={handleSubmit}>\r\n            <div>\r\n                <Field placeholder={\"Email\"} name={\"email\"} component={Input} validate={requiredField}/>\r\n            </div>\r\n            <div>\r\n                <Field placeholder={\"pass\"} name={'pass'} type={'password'} component={Input} validate={requiredField}/>\r\n            </div>\r\n            <div>\r\n                <Field component={Input} type={\"checkbox\"} name={'rememberMe'} /> remember me\r\n            </div>\r\n            { error && <div className={s.formSummaryError}>\r\n                    {error}\r\n                </div>\r\n            }\r\n            <div>\r\n                <button>Login</button>\r\n            </div>\r\n        </form>\r\n    )\r\n}\r\n\r\nconst LoginReduxForm = reduxForm({\r\n    // a unique name for the form\r\n    form: 'login'\r\n})(LoginForm)\r\n\r\nconst Login = (props) => {\r\n    const onSubmit = (formData) => {\r\n        props.login(formData.email, formData.pass, formData.rememberMe,)\r\n    }\r\n\r\n    if (props.isAuth) {\r\n        return <Redirect to={\"/profile\"}/>\r\n    }\r\n\r\n    return <div>\r\n        <h1>LOGIN</h1>\r\n        <LoginReduxForm onSubmit={onSubmit}/>\r\n    </div>\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n    isAuth: state.auth.isAuth\r\n})\r\n\r\nexport default  connect(mapStateToProps, {login, logout})(Login);","import {getAuthUserData} from \"./auth-reduser\";\r\n\r\nconst INITIALIZATION_SUCCESS = 'INITIALIZATION_SUCCESS';\r\n\r\n\r\nlet initialState = {\r\n    initialized: false\r\n}\r\n\r\nexport const appReduser = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case INITIALIZATION_SUCCESS:\r\n            return {\r\n                ...state,\r\n                initialized: true\r\n            }\r\n\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\n//Экшн креэйторы, теперь записываем без AC вконце, чтобы работал рефакторинг mapDispatchToProps\r\nexport const initializationSuccess = () => {\r\n    return {\r\n        type: INITIALIZATION_SUCCESS\r\n    }\r\n}\r\n\r\nexport const initializeApp = () => (dispatch) => {\r\n    let promise = dispatch(getAuthUserData());\r\n    promise.then(() => {\r\n        dispatch(initializationSuccess());\r\n    });\r\n}\r\n\r\n\r\nexport default appReduser;","import React from  'react';\r\nimport Preloader from \"../Templates/Preloader/Preloader\";\r\n\r\nexport const withSuspense = (Component) => {\r\n\r\n    return (props) => {\r\n        return <React.Suspense fallback={<Preloader />}>\r\n            <Component {...props} />\r\n        </React.Suspense>\r\n    };\r\n}","import React from 'react';\nimport Menu from './Templates/Navbar/Navbar';\nimport {Route, withRouter} from \"react-router-dom\";\nimport News from \"./Content/News/News\";\nimport Settings from \"./Content/Settings/Settings\";\nimport Music from \"./Content/Music/Music\";\nimport UsersContainer from \"./Content/Users/UsersContainer\";\n\nimport HeaderContainer from \"./Templates/Header/HeaderContainer\";\nimport Login from \"./Content/Login/Login\";\nimport {connect} from \"react-redux\";\nimport {compose} from \"redux\";\nimport {initializeApp} from \"./Redux/app-reduser\";\nimport Preloader from \"./Templates/Preloader/Preloader\";\nimport {withSuspense} from \"./hoc/withSuspense\";\n\n// import DialogsContainer from \"./Content/Dialogs/DialogsContainer\";\n// import ProfileContainer from \"./Content/Profile/ProfileContainer\";\nconst DialogsContainer = React.lazy(() => import(\"./Content/Dialogs/DialogsContainer\"));\nconst ProfileContainer = React.lazy(() => import(\"./Content/Profile/ProfileContainer\"));\n\nclass App extends React.Component {\n    componentDidMount() {\n        this.props.initializeApp()\n    }\n\n    render() {\n        if (!this.props.initialized) {\n            return <Preloader/>\n        }\n\n        return (\n            <div className='app-wrapper'>\n                <HeaderContainer/>\n                <Menu/>\n                <div className='app-wrapper-content'>\n                    <Route path='/login' render={() =>\n                        <Login/>}/>\n                    <Route path='/profile/:userId?'\n                           render={withSuspense(ProfileContainer)} />\n                    <Route path='/dialogs'\n                           render={withSuspense(DialogsContainer)} />\n                    <Route path='/users' render={() =>\n                        <UsersContainer/>}/>\n                    <Route path='/news' component={News}/>\n                    <Route path='/music' component={Music}/>\n                    <Route path='/settings' component={Settings}/>\n                </div>\n            </div>\n        );\n    }\n}\n\nconst mapStateToProps = (state) => ({\n    initialized: state.app.initialized\n});\n\nexport default compose(\n    withRouter,\n    connect(mapStateToProps, {initializeApp})\n)(App);\n","import {combineReducers, compose, createStore} from \"redux\";\r\nimport profileReduser from \"./profileReduser\";\r\nimport dialogsReduser from \"./dialogsReduser\";\r\nimport usersReduser from \"./usersReduser\";\r\nimport authReduser from \"./auth-reduser\";\r\nimport applyMiddleware from \"redux/src/applyMiddleware\";\r\nimport thunkMiddleware from \"redux-thunk\";\r\nimport { reducer as formReducer } from 'redux-form';\r\nimport appReduser from \"./app-reduser\";\r\n\r\nlet reducers = combineReducers({\r\n    profilePage: profileReduser,\r\n    dialogsPage: dialogsReduser,\r\n    usersPage: usersReduser,\r\n    auth: authReduser,\r\n    form: formReducer,\r\n    app: appReduser\r\n});\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst store = createStore(reducers, composeEnhancers(applyMiddleware(thunkMiddleware)));\r\n\r\n// let store = createStore(reducers, applyMiddleware(thunkMiddleware));\r\n\r\nwindow.__store__ = store;\r\nexport default store;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport * as serviceWorker from './serviceWorker';\nimport './index.css';\nimport App from './App';\nimport {HashRouter, BrowserRouter} from \"react-router-dom\";\nimport store from \"./Redux/redux-store\";\nimport {Provider} from \"react-redux\";\n\n\nReactDOM.render(\n    <HashRouter>\n        <Provider store={store}>\n            <App/>\n        </Provider>\n    </HashRouter>, document.getElementById('root'));\n\n\n\n// store.subscribe(rerenderEntireTree);\n\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","import React from 'react'\r\nimport preloader from \"../../Assets/loader.gif\";\r\nimport s from './Preloader.module.css'\r\n\r\nlet Preloader = (props) => {\r\n    return (\r\n        <div >\r\n            <img className={s.img} src={preloader}/>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Preloader;\r\n\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"FormControls_formControl__-5Wc4\",\"error\":\"FormControls_error__2CdFz\",\"formSummaryError\":\"FormControls_formSummaryError__20lDq\"};","import React from \"react\";\r\nimport s from './FormControls.module.css';\r\n\r\n\r\nexport const FormControl = ({input, meta, child, ...props}) => {\r\n\r\n    const hasError = meta.touched && meta.error;\r\n\r\n    return (\r\n        <div className={s.formControl + \" \" + (hasError ? s.error : \"\")}>\r\n            <div>\r\n                {props.children}\r\n            </div>\r\n            { hasError && <span>{meta.error}</span> }\r\n        </div>\r\n    )\r\n}\r\n\r\nexport const Textarea = (props) => {\r\n    const {input, meta, child, ...restProps} = props;\r\n    return <FormControl {...props}><textarea {...input} {...restProps}/></FormControl>\r\n}\r\n\r\n// export const Textarea = ({input, meta, ...props}) => {\r\n//\r\n// const hasError = meta.touched && meta.error;\r\n//\r\n//     return (\r\n//         <div className={s.formControl + \" \" + (hasError ? s.error : \"\")}>\r\n//             <textarea {...input} {...props}/>\r\n//             { hasError && <span>{meta.error}</span>}\r\n//         </div>\r\n//     )\r\n// }\r\n\r\n\r\nexport const Input = (props) => {\r\n    const {input, meta, child, ...restProps} = props;\r\n    return <FormControl {...props}><input {...input} {...restProps}/></FormControl>\r\n}\r\n\r\n// export const Input = ({input, meta, ...props}) => {\r\n//\r\n//     const hasError = meta.touched && meta.error;\r\n//\r\n//     return (\r\n//         <div className={s.formControl + \" \" + (hasError ? s.error : \"\")}>\r\n//             <input {...input} {...props}/>\r\n//             { hasError && <span>{meta.error}</span>}\r\n//         </div>\r\n//     )\r\n// }","// extracted by mini-css-extract-plugin\nmodule.exports = {\"paginator\":\"Paginator_paginator__2-9SS\",\"pageNumber\":\"Paginator_pageNumber__BbKD_\",\"selectedPage\":\"Paginator_selectedPage__3cJJN\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__138VD\",\"img\":\"Header_img___CmHt\",\"loginBlock\":\"Header_loginBlock__1rPKf\"};","export const requiredField = value => {\r\n    if (value) return undefined;\r\n    return 'Field is required';\r\n}\r\n\r\nexport const maxLengthCreator = (maxLength) => (value) => {\r\n    if (value.length > maxLength) return `Max Length is ${maxLength} symbols`;\r\n    return undefined;\r\n}\r\n\r\n\r\n\r\n","import {profileAPI, usersAPI} from \"../api/api\";\r\n\r\nconst ADD_POST = 'ADD-POST';\r\nconst UPDATE_NEW_POST_TEXT = 'UPDATE-NEW-POST-TEXT';\r\nconst SET_USER_PROFILE = 'SET_USER_PROFILE';\r\nconst SET_STATUS = 'SET_STATUS';\r\nconst DELETE_POST = 'DELETE_POST';\r\n\r\n\r\nlet initialState = {\r\n    posts: [\r\n        {id: 0, message: \"Привет, как твои дела? а? А?\", likeCount: 24},\r\n        {id: 1, message: \"Все в компуктер играешь?\", likeCount: 14},\r\n        {id: 2, message: \"Петуч\", likeCount: 85}\r\n    ],\r\n    newPostText: 'it-kamasutra',\r\n    profile: null,\r\n    status: \"\"\r\n}\r\n\r\nexport const profileReduser = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case ADD_POST: {\r\n            // let newPostText = state.newPostText;\r\n            let length = state.posts.length + 1;\r\n            return {\r\n                ...state,\r\n                // newPostText: '',\r\n                posts: [...state.posts, {id: length, message: action.postText, likesCount: 0 }]\r\n            }\r\n        }\r\n        case DELETE_POST:\r\n            return {\r\n                ...state,\r\n                posts: state.posts.filter(p => p.id != action.postId)\r\n            }\r\n        case UPDATE_NEW_POST_TEXT:\r\n            return {\r\n                ...state,\r\n                newPostText: action.postText\r\n            }\r\n        case SET_USER_PROFILE:\r\n            return {\r\n                ...state,\r\n                profile: action.profile\r\n            }\r\n        case SET_STATUS:\r\n            return {\r\n                ...state,\r\n                status: action.status\r\n            }\r\n\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const addPost = (postText) => {\r\n    return {\r\n        type: ADD_POST,\r\n        postText\r\n    }\r\n}\r\nexport const deletePost = (postId) => {\r\n    return {\r\n        type: DELETE_POST,\r\n        postId\r\n    }\r\n}\r\nexport const updateNewPostText = (postText) => {\r\n    return {\r\n        type: UPDATE_NEW_POST_TEXT,\r\n        postText\r\n    }\r\n}\r\nexport const setUserProfile = (profile) => {\r\n    return {\r\n        type: SET_USER_PROFILE,\r\n        profile\r\n    }\r\n}\r\nexport const setStatus = (status) => {\r\n    return {\r\n        type: SET_STATUS,\r\n        status\r\n    }\r\n}\r\n\r\nexport const getStatus = (userId) => async (dispatch) => {\r\n    let response = await profileAPI.getUserStatus(userId)\r\n\r\n    dispatch(setStatus(response.data));\r\n}\r\n\r\n\r\nexport const updateStatus = (status) => async (dispatch) => {\r\n    let response = await profileAPI.updateStatus(status)\r\n\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(setStatus(status));\r\n    }\r\n}\r\n\r\n\r\nexport const showProfile = (userId) => async (dispatch) => {\r\n    let profileData = await usersAPI.getUserProfile(userId)\r\n\r\n    dispatch(setUserProfile(profileData));\r\n}\r\n\r\n\r\nexport default profileReduser;"],"sourceRoot":""}